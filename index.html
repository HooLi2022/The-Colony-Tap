<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåç –ó–∞—Å–µ–ª–µ–Ω–∏–µ –ó–µ–º–ª–∏</title>
    <style>
        *{box-sizing:border-box;margin:0;padding:0}
        body{min-height:100vh;background:linear-gradient(135deg,#0B0B2B,#1B1B4B);font-family:'Segoe UI',system-ui,sans-serif;display:flex;justify-content:center;align-items:center;color:#fff;padding:16px}
        .container{max-width:900px;width:100%;background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);border-radius:24px;padding:24px;box-shadow:0 8px 32px rgba(0,0,0,0.3)}
        .tabs{display:flex;gap:10px;margin-bottom:20px;border-bottom:2px solid rgba(255,215,0,0.3);padding-bottom:10px;flex-wrap:wrap}
        .tab{padding:12px 24px;border-radius:30px;background:rgba(255,255,255,0.1);color:#fff;cursor:pointer;transition:.2s;font-weight:700;border:2px solid transparent}
        .tab:hover,.tab.active{background:#ffd700;color:#333;border-color:#fff}
        .tab-content{display:none;animation:fadeIn .3s}
        .tab-content.active{display:block}
        @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
        .earth{position:relative;width:min(280px,60vw);height:min(280px,60vw);margin:16px auto;border-radius:50%;background:#2B3B4B;box-shadow:0 0 40px rgba(100,150,255,0.3);overflow:hidden;cursor:pointer;transition:transform .2s}
        .earth:active{transform:scale(.98)}
        .earth-fill{position:absolute;bottom:0;left:0;width:100%;height:0%;background:#2B3B4B;transition:height .3s ease-out;z-index:1}
        .earth-image{position:absolute;inset:0;background:url('https://yt3.googleusercontent.com/jxNzA1STZW8BLqnCWh0-0_N2HIp9YW3gBzH7enj7wk5bGjp9U3wbvCkvAOPT8ZUBFFtHlnui2Q=s900-c-k-c0x00ffffff-no-rj')center/cover;background-size:cover;z-index:2;clip-path:inset(100% 0 0 0);transition:clip-path .3s ease-out}
        .progress-section{margin:16px 0;text-align:center}
        .progress-bar{width:100%;height:20px;background:rgba(255,255,255,0.2);border-radius:10px;overflow:hidden;margin:8px 0}
        .progress-fill{height:100%;width:0%;background:linear-gradient(90deg,#4CAF50,#8BC34A);transition:width .3s}
        .counter{text-align:center;font-size:clamp(2.5rem,10vw,4rem);font-weight:700;background:rgba(0,0,0,0.3);border-radius:20px;padding:16px;margin:16px 0;border:2px solid rgba(255,215,0,0.3);text-shadow:0 0 20px rgba(255,215,0,0.5)}
        .name-section{margin:20px 0;min-height:80px;text-align:center}
        .name-input-group{display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
        .name-input{padding:12px 20px;border-radius:30px;border:none;width:250px;font-size:1.1em;background:rgba(255,255,255,0.95)}
        .name-button{padding:12px 30px;border-radius:30px;border:none;background:#ffd700;cursor:pointer;font-weight:700;font-size:1.1em;transition:.2s}
        .name-button:hover{background:#ffed4a;transform:scale(1.05)}
        .greeting{font-size:1.4em;padding:12px 24px;background:rgba(255,255,255,0.15);border-radius:40px;display:inline-block;border:2px solid #ffd700;cursor:pointer;transition:.2s}
        .greeting:hover{transform:scale(1.05);box-shadow:0 0 20px rgba(255,215,0,0.3)}
        .greeting-name{color:#ffd700;font-weight:700}
        .level-badge{display:inline-block;background:linear-gradient(135deg,#ffd700,#ffaa00);color:#333;padding:2px 8px;border-radius:20px;font-size:.8rem;font-weight:700;margin-left:8px}
        .hidden{display:none!important}
        .click-button{display:block;margin:16px auto;background:#ffd700;color:#333;border:none;font-size:clamp(1.5rem,5vw,2.5rem);padding:20px 40px;border-radius:60px;cursor:pointer;font-weight:700;transition:.2s;box-shadow:0 0 30px rgba(255,215,0,0.5);width:100%;max-width:400px}
        .click-button:not(:disabled):hover{transform:scale(1.05);background:#ffed4a;box-shadow:0 0 50px rgba(255,215,0,0.8)}
        .click-button:not(:disabled):active{transform:scale(.95)}
        .click-button:disabled{opacity:.5;cursor:not-allowed}
        .shop-section{margin:30px 0;padding:20px;background:rgba(255,215,0,0.1);border:2px solid #ffd700;border-radius:20px}
        .shop-title{font-size:1.8rem;color:#ffd700;margin-bottom:20px;display:flex;align-items:center;justify-content:center;gap:10px}
        .shop-items{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin:20px 0}
        .shop-item{background:rgba(0,0,0,0.3);border:2px solid #ffd700;border-radius:15px;padding:15px;transition:.2s;position:relative;overflow:hidden;cursor:pointer}
        .shop-item:hover{transform:scale(1.05);box-shadow:0 0 30px rgba(255,215,0,0.3)}
        .shop-item.popular::before{content:"üî• –•–ò–¢";position:absolute;top:5px;right:-25px;background:#ff4444;color:#fff;padding:2px 30px;font-size:.7rem;font-weight:700;transform:rotate(45deg)}
        .item-emoji{font-size:2.5rem;margin-bottom:10px}
        .item-name{font-size:1.2rem;font-weight:700;margin-bottom:5px}
        .item-price{color:#ffd700;font-size:1.3rem;font-weight:700;margin:10px 0}
        .item-description{font-size:.8rem;color:#aaa;margin-bottom:10px}
        .buy-button{background:linear-gradient(135deg,#ffd700,#ffaa00);color:#333;border:none;padding:10px 20px;border-radius:30px;font-weight:700;cursor:pointer;transition:.2s;width:100%;font-size:1rem;margin-top:10px}
        .buy-button:hover{transform:scale(1.05);box-shadow:0 0 20px rgba(255,215,0,0.5)}
        .payment-container{margin-top:20px;padding:20px;background:rgba(255,255,255,0.05);border-radius:15px;display:none}
        .payment-title{color:#ffd700;font-size:1.3rem;margin-bottom:15px}
        .quests-section{margin:30px 0;padding:20px;background:rgba(76,175,80,0.1);border:2px solid #4CAF50;border-radius:20px}
        .quests-title{font-size:1.5rem;color:#4CAF50;margin-bottom:15px}
        .quests-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:15px}
        .quest-item{background:rgba(0,0,0,0.3);border:2px solid #4CAF50;border-radius:12px;padding:12px;position:relative}
        .quest-item.completed{opacity:.5;filter:grayscale(.5);border-color:#aaa}
        .quest-icon{font-size:2rem;margin-bottom:8px}
        .quest-name{font-weight:700;color:#4CAF50;margin-bottom:5px}
        .quest-desc{font-size:.8rem;color:#ddd;margin-bottom:8px}
        .quest-progress{height:4px;background:rgba(255,255,255,0.2);border-radius:2px;margin:8px 0}
        .quest-progress-fill{height:100%;background:#4CAF50;border-radius:2px;width:0%}
        .quest-reward{color:#ffd700;font-weight:700;font-size:.9rem}
        .quest-button{background:#4CAF50;color:#fff;border:none;padding:5px 10px;border-radius:15px;cursor:pointer;font-size:.8rem;margin-top:8px;width:100%}
        .quest-button:disabled{background:#666;cursor:not-allowed}
        .refresh-time{font-size:.8rem;color:#aaa;margin-top:10px}
        .referral-section{background:rgba(33,150,243,0.1);border:2px solid #2196F3;border-radius:20px;padding:20px}
        .referral-header{display:flex;align-items:center;gap:10px;margin-bottom:20px}
        .referral-header h2{color:#2196F3;font-size:1.5rem}
        .referral-link-box{background:rgba(0,0,0,0.3);border-radius:15px;padding:15px;margin-bottom:20px}
        .referral-link-label{color:#2196F3;margin-bottom:10px;font-weight:700}
        .referral-link-input-group{display:flex;gap:10px}
        .referral-link-input{flex:1;padding:12px;border:none;border-radius:10px;background:rgba(255,255,255,0.1);color:#fff;border:1px solid #2196F3;font-size:.9rem}
        .referral-link-input:focus{outline:0;border-color:#ffd700}
        .referral-copy-btn{background:#2196F3;color:#fff;border:none;padding:12px 24px;border-radius:10px;cursor:pointer;font-weight:700;transition:.2s}
        .referral-copy-btn:hover{background:#1976D2;transform:scale(1.05)}
        .referral-stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-bottom:20px}
        .referral-stat-card{background:rgba(0,0,0,0.3);border-radius:15px;padding:15px;text-align:center;border:1px solid #2196F3}
        .referral-stat-value{font-size:2rem;color:#2196F3;font-weight:700}
        .referral-stat-label{font-size:.9rem;color:#aaa}
        .referral-bonus-info{background:rgba(255,215,0,0.1);border:2px solid #ffd700;border-radius:15px;padding:15px;margin-bottom:20px}
        .bonus-title{color:#ffd700;font-weight:700;margin-bottom:10px}
        .bonus-list{list-style:none;padding:0}
        .bonus-list li{margin-bottom:8px;padding-left:20px;position:relative}
        .bonus-list li:before{content:"üéÅ";position:absolute;left:0}
        .referral-table{background:rgba(0,0,0,0.3);border-radius:15px;padding:15px}
        .referral-table-title{color:#2196F3;margin-bottom:15px;font-weight:700}
        .referral-row{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid rgba(255,255,255,0.1);cursor:pointer}
        .referral-row:last-child{border-bottom:none}
        .referral-name{font-weight:700}
        .referral-clicks{color:#ffd700}
        .referral-bonus{color:#4CAF50;font-weight:700}
        .no-referrals{text-align:center;color:#aaa;padding:20px}
        .stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin:20px 0}
        .stat-card{background:rgba(255,255,255,0.15);border-radius:16px;padding:12px;font-size:.9rem}
        .stat-value{font-size:1.3rem;font-weight:700;color:#ffd700;margin-top:4px}
        .top-players{background:rgba(0,0,0,0.3);border-radius:20px;padding:16px}
        .top-title{font-size:1.5rem;color:#ffd700;margin-bottom:16px;display:flex;justify-content:space-between;align-items:center}
        .view-all{font-size:.9rem;color:#ffd700;cursor:pointer}
        .view-all:hover{text-decoration:underline}
        .top-list{list-style:none}
        .top-item{display:flex;align-items:center;padding:10px 12px;margin:6px 0;background:rgba(255,255,255,0.1);border-radius:12px;transition:.2s;cursor:pointer}
        .top-item:hover{background:rgba(255,255,255,0.2);transform:translateX(5px)}
        .top-item.current{border:2px solid #ffd700;background:rgba(255,215,0,0.15)}
        .top-rank{width:32px;height:32px;background:#ffd700;color:#333;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;margin-right:12px;flex-shrink:0}
        .top-rank-1{background:#FFD700;box-shadow:0 0 15px #FFD700}
        .top-rank-2{background:#C0C0C0;box-shadow:0 0 15px #C0C0C0}
        .top-rank-3{background:#CD7F32;box-shadow:0 0 15px #CD7F32}
        .top-name{flex:1;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500}
        .top-score{font-weight:700;color:#ffd700;margin-left:8px}
        .top-badge{margin-left:8px;font-size:1.1rem}
        .last-clicker{background:rgba(255,255,255,0.2);padding:12px;border-radius:10px;margin-top:16px;text-align:center}
        #lastClickerName{color:#ffd700;font-weight:700;cursor:pointer}
        #lastClickerName:hover{text-decoration:underline}
        .profile-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#1a1a3a,#2a2a4a);border:3px solid #ffd700;border-radius:30px;padding:30px;z-index:3000;width:90%;max-width:700px;max-height:80vh;overflow-y:auto;box-shadow:0 0 50px rgba(255,215,0,0.3);display:none}
        .profile-modal.show{display:block}
        .profile-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border-bottom:2px solid rgba(255,215,0,0.3);padding-bottom:15px}
        .profile-header h2{color:#ffd700;font-size:2rem}
        .profile-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-bottom:25px}
        .profile-stat{background:rgba(0,0,0,0.3);border-radius:12px;padding:15px;text-align:center}
        .profile-stat-label{color:#aaa;font-size:.9rem;margin-bottom:5px}
        .profile-stat-value{color:#ffd700;font-size:1.5rem;font-weight:700}
        .achievements-title{color:#ffd700;font-size:1.3rem;margin:20px 0 15px}
        .achievements-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
        .achievement-card{background:rgba(0,0,0,0.3);border:2px solid rgba(255,215,0,0.3);border-radius:12px;padding:12px;display:flex;align-items:center;gap:10px;transition:.2s}
        .achievement-card.locked{opacity:.5;filter:grayscale(.5)}
        .achievement-card.unlocked{border-color:#ffd700;background:rgba(255,215,0,0.1)}
        .achievement-icon{font-size:2rem;min-width:50px;text-align:center}
        .achievement-info{flex:1;text-align:left}
        .achievement-name{font-weight:700;color:#ffd700;margin-bottom:3px}
        .achievement-desc{font-size:.8rem;color:#aaa}
        .achievement-reward{font-size:.8rem;color:#4CAF50;margin-top:3px}
        .close-profile{background:0 0;border:none;color:#fff;font-size:2rem;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:.2s}
        .close-profile:hover{background:rgba(255,0,0,0.3)}
        .info-block{background:rgba(255,255,255,0.05);border-radius:15px;padding:20px;margin:20px 0;text-align:left}
        .info-block h3{color:#ffd700;margin-bottom:15px;font-size:1.2rem}
        .info-block ul{list-style:none;padding-left:0}
        .info-block li{margin-bottom:8px;padding-left:20px;position:relative}
        .info-block li:before{content:"‚úÖ";position:absolute;left:0;color:#4CAF50}
        .contacts-block{background:rgba(0,0,0,0.3);border-radius:10px;padding:15px;margin:20px 0;font-size:.9rem}
        .footer-links{margin-top:30px;font-size:.8rem;color:#aaa;text-align:center}
        .footer-links a{color:#ffd700;text-decoration:none;margin:0 5px}
        .footer-links a:hover{text-decoration:underline}
        .cheater-alert{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:#ff4444;color:#fff;padding:16px 24px;border-radius:50px;font-weight:700;box-shadow:0 4px 20px rgba(255,0,0,0.5);z-index:1000;animation:slideDown .3s;display:none}
        .admin-btn{position:fixed;bottom:20px;left:20px;background:rgba(255,215,0,0.9);color:#333;padding:12px 20px;border-radius:40px;font-weight:700;cursor:pointer;border:2px solid #fff;box-shadow:0 4px 15px rgba(0,0,0,0.3);z-index:1000;transition:.2s;display:flex;align-items:center;gap:8px}
        .admin-btn:hover{transform:scale(1.05);background:#ffd700}
        .admin-btn .notification{background:#ff4444;color:#fff;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;font-size:.8rem;margin-left:8px}
        .admin-panel{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#1a1a3a,#2a2a4a);border:3px solid #ffd700;border-radius:30px;padding:30px;z-index:2000;width:90%;max-width:600px;max-height:80vh;overflow-y:auto;box-shadow:0 0 50px rgba(255,215,0,0.3);display:none}
        .admin-panel.show{display:block}
        .panel-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border-bottom:2px solid rgba(255,215,0,0.3);padding-bottom:15px}
        .panel-header h2{color:#ffd700;font-size:1.8rem}
        .close-panel{background:0 0;border:none;color:#fff;font-size:2rem;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:.2s}
        .close-panel:hover{background:rgba(255,0,0,0.3)}
        .admin-section{background:rgba(255,255,255,0.1);border-radius:16px;padding:20px;margin-bottom:20px}
        .admin-section h3{color:#ffd700;margin-bottom:15px;font-size:1.3rem}
        .admin-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:20px}
        .admin-stat{background:rgba(0,0,0,0.3);border-radius:12px;padding:12px;text-align:center}
        .admin-stat-label{font-size:.8rem;color:#aaa}
        .admin-stat-value{font-size:1.3rem;color:#ffd700;font-weight:700}
        .admin-actions{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:20px}
        .admin-action-btn{background:rgba(255,215,0,0.2);border:1px solid #ffd700;color:#fff;padding:12px;border-radius:12px;cursor:pointer;transition:.2s;font-weight:700}
        .admin-action-btn:hover{background:rgba(255,215,0,0.4);transform:scale(1.02)}
        .admin-action-btn.danger{background:rgba(255,68,68,0.2);border-color:#ff4444}
        .admin-action-btn.danger:hover{background:rgba(255,68,68,0.4)}
        .admin-action-btn.success{background:rgba(76,175,80,0.2);border-color:#4CAF50}
        .admin-action-btn.success:hover{background:rgba(76,175,80,0.4)}
        .player-list{max-height:200px;overflow-y:auto}
        .player-item{display:flex;justify-content:space-between;align-items:center;padding:10px;background:rgba(255,255,255,0.05);border-radius:8px;margin-bottom:8px;cursor:pointer}
        .player-item:hover{background:rgba(255,255,255,0.1)}
        .player-item.banned{border-left:3px solid #ff4444}
        .player-info{flex:1}
        .player-name{font-weight:700;color:#ffd700}
        .player-score{font-size:.9rem;color:#aaa}
        .player-actions{display:flex;gap:5px}
        .player-action{padding:4px 8px;border:none;border-radius:4px;cursor:pointer;font-size:.8rem}
        .backdrop{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:1500;display:none}
        .backdrop.show{display:block}
        @keyframes slideDown{from{transform:translate(-50%,-100%);opacity:0}to{transform:translate(-50%,0);opacity:1}}
        .unban-message{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:#4CAF50;color:#fff;padding:16px 24px;border-radius:50px;font-weight:700;box-shadow:0 4px 20px rgba(76,175,80,0.5);z-index:1000;animation:slideDown .3s;display:none}
        .reset-message{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:#ffd700;color:#333;padding:16px 24px;border-radius:50px;font-weight:700;box-shadow:0 4px 20px rgba(255,215,0,0.5);z-index:1000;animation:slideDown .3s;display:none}
        .achievement-unlock{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,#ffd700,#ffaa00);color:#333;padding:16px 24px;border-radius:50px;font-weight:700;box-shadow:0 4px 20px rgba(255,215,0,0.5);z-index:1000;animation:slideDown .3s;display:none}
        .purchase-success{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:#4CAF50;color:#fff;padding:16px 24px;border-radius:50px;font-weight:700;box-shadow:0 4px 20px rgba(76,175,80,0.5);z-index:2000;animation:slideDown .3s;display:none}
        .size-control{margin:20px 0;padding:15px;background:rgba(0,0,0,0.3);border-radius:12px}
        .size-label{display:flex;justify-content:space-between;margin-bottom:10px;color:#ffd700}
        .size-slider{width:100%;height:8px;background:rgba(255,255,255,0.2);border-radius:4px;outline:0;-webkit-appearance:none}
        .size-slider::-webkit-slider-thumb{-webkit-appearance:none;width:24px;height:24px;background:#ffd700;border-radius:50%;cursor:pointer;border:2px solid #fff}
        .size-slider::-moz-range-thumb{width:24px;height:24px;background:#ffd700;border-radius:50%;cursor:pointer;border:2px solid #fff}
        .size-value{font-size:1.2rem;color:#ffd700;font-weight:700}
        .size-presets{display:flex;gap:10px;margin-top:10px;justify-content:center}
        .size-preset-btn{background:rgba(255,215,0,0.2);border:1px solid #ffd700;color:#fff;padding:8px 16px;border-radius:20px;cursor:pointer;transition:.2s;font-size:.9rem}
        .size-preset-btn:hover{background:rgba(255,215,0,0.4);transform:scale(1.05)}
        .size-preset-btn.active{background:#ffd700;color:#333}
        .size-info{color:#aaa;font-size:.8rem;margin-top:10px;text-align:center}
    </style>
</head>
<body>
    <div id="adfox_177184316797386820"></div>
    <script>window.yaContextCb.push(()=>{Ya.adfoxCode.create({ownerId:691132,containerId:'adfox_177184316797386820',params:{pp:'g',ps:'mdxg',p2:'hukd'}})})</script>
    <div class="cheater-alert" id="ca">üö´ –û–±–Ω–∞—Ä—É–∂–µ–Ω —á–∏—Ç–µ—Ä! –î–æ—Å—Ç—É–ø –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</div>
    <div class="unban-message" id="um">‚úÖ –í—ã –±—ã–ª–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º!</div>
    <div class="reset-message" id="rm">üîÑ –ò–≥—Ä–∞ —Å–±—Ä–æ—à–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º!</div>
    <div class="achievement-unlock" id="au">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!</div>
    <div class="purchase-success" id="ps">üí∞ –ü–æ–∫—É–ø–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞—á–∏—Å–ª–µ–Ω–∞!</div>
    <div class="admin-btn" id="ab"><span>üëë –ê–¥–º–∏–Ω</span><span class="notification" id="an">0</span></div>
    <div class="backdrop" id="bd"></div>
    <div class="admin-panel" id="ap">
        <div class="panel-header"><h2>üëë –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h2><button class="close-panel" id="cp">√ó</button></div>
        <div class="admin-stats">
            <div class="admin-stat"><div class="admin-stat-label">–ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å—á–µ—Ç</div><div class="admin-stat-value" id="ags">0</div></div>
            <div class="admin-stat"><div class="admin-stat-label">–ò–≥—Ä–æ–∫–æ–≤</div><div class="admin-stat-value" id="atp">0</div></div>
            <div class="admin-stat"><div class="admin-stat-label">–û–Ω–ª–∞–π–Ω</div><div class="admin-stat-value" id="ao">0</div></div>
            <div class="admin-stat"><div class="admin-stat-label">–†–µ—Ñ–µ—Ä–∞–ª–æ–≤</div><div class="admin-stat-value" id="atr">0</div></div>
        </div>
        <div class="admin-section"><h3>‚ö° –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–π</h3><div class="admin-actions"><button class="admin-action-btn success" onclick="a.resetGame()">üîÑ –°–±—Ä–æ—Å –∏–≥—Ä—ã (–ø–æ–ª–Ω—ã–π)</button><button class="admin-action-btn success" onclick="a.addGlobalClicks(100)">‚ûï +100 –∫–ª–∏–∫–æ–≤</button><button class="admin-action-btn" onclick="a.setTarget('8b')">üéØ –¶–µ–ª—å 8 –º–ª—Ä–¥</button><button class="admin-action-btn" onclick="a.setTarget('1m')">üéØ –¶–µ–ª—å 1 –º–ª–Ω</button></div></div>
        <div class="admin-section"><h3>üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–æ–º</h3><div class="admin-actions"><button class="admin-action-btn" onclick="a.setPrices('normal')">üí∞ –û–±—ã—á–Ω—ã–µ —Ü–µ–Ω—ã</button><button class="admin-action-btn" onclick="a.setPrices('sale')">üî• –°–∫–∏–¥–∫–∞ 50%</button><button class="admin-action-btn" onclick="a.setPrices('whale')">üíé VIP —Ü–µ–Ω—ã</button></div><p style="color:#aaa;font-size:.9rem;margin-top:10px">üìä –ü—Ä–æ–¥–∞–∂ —Å–µ–≥–æ–¥–Ω—è: <span id="ts">0</span></p></div>
        <div class="admin-section"><h3>üë• –¢–æ–ø –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º</h3><div class="player-list" id="rtl"><div style="text-align:center;color:#aaa;">–ó–∞–≥—Ä—É–∑–∫–∞...</div></div></div>
        <div class="admin-section"><h3>üñºÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏</h3><div class="size-control"><div class="size-label"><span>–†–∞–∑–º–µ—Ä</span><span class="size-value" id="sv">100%</span></div><input type="range" id="ss" class="size-slider" min="50" max="200" value="100" step="5"><div class="size-presets"><button class="size-preset-btn" onclick="a.setImageSize(75)">75%</button><button class="size-preset-btn active" onclick="a.setImageSize(100)">100%</button><button class="size-preset-btn" onclick="a.setImageSize(125)">125%</button><button class="size-preset-btn" onclick="a.setImageSize(150)">150%</button></div></div></div>
        <div class="admin-section"><h3>üë• –í—Å–µ –∏–≥—Ä–æ–∫–∏</h3><div class="player-list" id="pl"><div style="text-align:center;color:#aaa;">–ó–∞–≥—Ä—É–∑–∫–∞...</div></div></div>
        <div class="admin-section"><h3>üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h3><div class="admin-actions"><button class="admin-action-btn" onclick="a.clearBanned()">‚úÖ –†–∞–∑–±–∞–Ω–∏—Ç—å –≤—Å–µ—Ö</button><button class="admin-action-btn danger" onclick="a.banAll()">üö´ –ó–∞–±–∞–Ω–∏—Ç—å –≤—Å–µ—Ö</button><button class="admin-action-btn danger" onclick="a.clearDatabase()">‚ö†Ô∏è –û—á–∏—Å—Ç–∏—Ç—å –ë–î</button></div></div>
    </div>
    <div class="profile-modal" id="pm">
        <div class="profile-header"><h2 id="pn">–ü—Ä–æ—Ñ–∏–ª—å</h2><button class="close-profile" id="cpf">√ó</button></div>
        <div class="profile-stats">
            <div class="profile-stat"><div class="profile-stat-label">–£—Ä–æ–≤–µ–Ω—å</div><div class="profile-stat-value" id="plv">1</div></div>
            <div class="profile-stat"><div class="profile-stat-label">–ö–ª–∏–∫–∏</div><div class="profile-stat-value" id="pc">0</div></div>
            <div class="profile-stat"><div class="profile-stat-label">–ü–æ–∫—É–ø–æ–∫</div><div class="profile-stat-value" id="pp">0</div></div>
            <div class="profile-stat"><div class="profile-stat-label">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</div><div class="profile-stat-value" id="psp">0‚ÇΩ</div></div>
            <div class="profile-stat"><div class="profile-stat-label">–°—Ç—Ä–∏–∫</div><div class="profile-stat-value" id="pst">0</div></div>
            <div class="profile-stat"><div class="profile-stat-label">–†–µ—Ñ–µ—Ä–∞–ª—ã</div><div class="profile-stat-value" id="prf">0</div></div>
        </div>
        <div class="achievements-title">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div><div class="achievements-grid" id="al"></div>
        <div class="referral-section" id="prs">
            <div class="referral-header"><h2>üîó –ú–æ—è —Å—Å—ã–ª–∫–∞</h2></div>
            <div class="referral-link-box"><div class="referral-link-label">–ü—Ä–∏–≥–ª–∞—à–∞–π –¥—Ä—É–∑–µ–π:</div><div class="referral-link-input-group"><input type="text" id="prl" class="referral-link-input" readonly><button class="referral-copy-btn" onclick="copyRefLink()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button></div></div>
            <div class="referral-stats-grid"><div class="referral-stat-card"><div class="referral-stat-value" id="prs1">0</div><div class="referral-stat-label">–ø—Ä–∏–≥–ª–∞—à–µ–Ω–æ</div></div><div class="referral-stat-card"><div class="referral-stat-value" id="prs2">0</div><div class="referral-stat-label">–±–æ–Ω—É—Å–æ–≤</div></div><div class="referral-stat-card"><div class="referral-stat-value" id="prs3">0</div><div class="referral-stat-label">–∫–ª–∏–∫–æ–≤</div></div></div>
        </div>
    </div>
    <div class="container">
        <h1 style="text-align:center;">üåç –ó–∞—Å–µ–ª–µ–Ω–∏–µ –ó–µ–º–ª–∏</h1><p style="text-align:center;">–¶–µ–ª—å: <span id="td">8 –º–ª—Ä–¥</span></p>
        <div class="earth" id="e"><div class="earth-fill" id="ef"></div><div class="earth-image" id="ei"></div></div>
        <div class="progress-section"><div class="progress-bar"><div class="progress-fill" id="pf"></div></div><div class="earth-target" style="text-align:center;"><span id="cp">0</span> / <span id="tp">8 000 000 000</span></div></div>
        <div class="counter" id="c">0</div>
        <div class="name-section"><div id="nig" class="name-input-group"><input type="text" id="un" class="name-input" placeholder="–í–∞—à–µ –∏–º—è" maxlength="20" autocomplete="off"><button id="snb" class="name-button">–ù–∞—á–∞—Ç—å</button></div><div id="g" class="greeting hidden"><span>–ò–≥—Ä–æ–∫: <span id="dn" class="greeting-name"></span></span><span class="level-badge" id="lb">–£—Ä. 1</span></div></div>
        <button id="cb" class="click-button" disabled>üëÜ –ó–ê–°–ï–õ–ò–¢–¨</button>
        
        <div class="tabs">
            <div class="tab active" onclick="switchTab('game')">üéÆ –ò–≥—Ä–∞</div>
            <div class="tab" onclick="switchTab('shop')">üí∞ –ú–∞–≥–∞–∑–∏–Ω</div>
            <div class="tab" onclick="switchTab('quests')">üìã –ó–∞–¥–∞–Ω–∏—è</div>
            <div class="tab" onclick="switchTab('ref')">üë• –†–µ—Ñ–µ—Ä–∞–ª—ã</div>
            <div class="tab" onclick="switchTab('top')">üèÜ –¢–æ–ø</div>
        </div>
        
        <div id="game-tab" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card"><div>–û–Ω–ª–∞–π–Ω</div><div class="stat-value" id="oc">0</div></div>
                <div class="stat-card"><div>–¢–≤–æ–π –≤–∫–ª–∞–¥</div><div class="stat-value" id="us">0</div></div>
                <div class="stat-card"><div>–£—Ä–æ–≤–µ–Ω—å</div><div class="stat-value" id="ul">1</div></div>
                <div class="stat-card"><div>–û—Å—Ç–∞–ª–æ—Å—å</div><div class="stat-value" id="r">8 –º–ª—Ä–¥</div></div>
            </div>
            <div class="last-clicker">–ü–æ—Å–ª–µ–¥–Ω–∏–π: <span id="lcn">–Ω–∏–∫—Ç–æ</span></div>
            <div class="info-block"><h3>üì¶ –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∫–ª–∏–∫–∏</h3><ul><li>–ö–ª–∏–∫–∏ –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã</li><li>–ó–∞—á–∏—Å–ª–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</li><li>–ö–ª–∏–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</li><li>–í—Å–µ –ø–æ–∫—É–ø–∫–∏ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ</li></ul></div>
            <div class="contacts-block"><h3 style="color:#ffd700;margin-bottom:10px;">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</h3><p><strong>Email:</strong> kavarnukaevoleg@gmail.com</p><p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> +7 (981) 958-68-47</p><p><strong>–ò–ü:</strong> –ö–∞–≤–∞—Ä–Ω—É–∫–∞–µ–≤ –û–ª–µ–≥ –í—è—á–µ—Å–ª–∞–≤–æ–≤–∏—á</p><p><strong>–ò–ù–ù:</strong> 471702602370</p></div>
            <div class="footer-links"><a href="agreement.html" target="_blank">–°–æ–≥–ª–∞—à–µ–Ω–∏–µ</a> | <a href="privacy.html" target="_blank">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</a> | <a href="#">–í–æ–∑–≤—Ä–∞—Ç</a></div>
        </div>
        
        <div id="shop-tab" class="tab-content">
            <div class="shop-section">
                <div class="shop-title"><span>üí∞</span> –ú–ê–ì–ê–ó–ò–ù –ö–õ–ò–ö–û–í <span>üí∞</span></div>
                <p style="color:#ffd700;margin-bottom:15px;text-align:center;">1 –∫–ª–∏–∫ = 1 —Ä—É–±–ª—å</p>
                <div class="shop-items">
                    <div class="shop-item" onclick="openPay(10,10)"><div class="item-emoji">üëÜ</div><div class="item-name">–°—Ç–∞—Ä—Ç–æ–≤—ã–π</div><div class="item-price">10‚ÇΩ</div><div class="item-description">10 –∫–ª–∏–∫–æ–≤</div><button class="buy-button">–ö—É–ø–∏—Ç—å</button></div>
                    <div class="shop-item popular" onclick="openPay(50,50)"><div class="item-emoji">üî•</div><div class="item-name">–ü–æ–ø—É–ª—è—Ä–Ω—ã–π</div><div class="item-price">50‚ÇΩ</div><div class="item-description">50 –∫–ª–∏–∫–æ–≤</div><button class="buy-button">–ö—É–ø–∏—Ç—å</button></div>
                    <div class="shop-item" onclick="openPay(100,100)"><div class="item-emoji">üíé</div><div class="item-name">VIP</div><div class="item-price">100‚ÇΩ</div><div class="item-description">100 –∫–ª–∏–∫–æ–≤</div><button class="buy-button">–ö—É–ø–∏—Ç—å</button></div>
                    <div class="shop-item" onclick="openPay(1000,1000)"><div class="item-emoji">üöÄ</div><div class="item-name">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π</div><div class="item-price">1000‚ÇΩ</div><div class="item-description">1000 –∫–ª–∏–∫–æ–≤</div><button class="buy-button">–ö—É–ø–∏—Ç—å</button></div>
                </div>
                <div id="pcnt" class="payment-container"><div class="payment-title" id="pt"></div><div class="cc-payment-form" id="pfm"></div></div>
            </div>
        </div>
        
        <div id="quests-tab" class="tab-content">
            <div class="quests-section">
                <div class="quests-title">üìã –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</div>
                <div class="quests-grid" id="ql"></div>
                <div class="refresh-time" id="qrt">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑: 24:00</div>
            </div>
        </div>
        
        <div id="ref-tab" class="tab-content">
            <div class="referral-section">
                <div class="referral-header"><h2>üë• –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</h2></div>
                <div class="referral-link-box"><div class="referral-link-label">–¢–≤–æ—è —Å—Å—ã–ª–∫–∞:</div><div class="referral-link-input-group"><input type="text" id="rl" class="referral-link-input" readonly><button class="referral-copy-btn" onclick="copyRefLink()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button></div></div>
                <div class="referral-stats-grid">
                    <div class="referral-stat-card"><div class="referral-stat-value" id="rc">0</div><div class="referral-stat-label">–ø—Ä–∏–≥–ª–∞—à–µ–Ω–æ</div></div>
                    <div class="referral-stat-card"><div class="referral-stat-value" id="rb">0</div><div class="referral-stat-label">–±–æ–Ω—É—Å–æ–≤</div></div>
                    <div class="referral-stat-card"><div class="referral-stat-value" id="rbc">0</div><div class="referral-stat-label">–∫–ª–∏–∫–æ–≤</div></div>
                </div>
                <div class="referral-bonus-info"><div class="bonus-title">üéÅ –ë–æ–Ω—É—Å—ã:</div><ul class="bonus-list"><li>–ó–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é: +50</li><li>–ó–∞ 1000 –∫–ª–∏–∫–æ–≤: +10</li><li>–ó–∞ 5000 –∫–ª–∏–∫–æ–≤: +50</li><li>–ó–∞ 10000 –∫–ª–∏–∫–æ–≤: +100</li></ul></div>
                <div class="referral-table"><div class="referral-table-title">üë• –¢–≤–æ–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã</div><div id="rlst"></div></div>
            </div>
        </div>
        
        <div id="top-tab" class="tab-content">
            <div class="top-players"><div class="top-title"><span>üèÜ –¢–æ–ø –ø–æ –∫–ª–∏–∫–∞–º</span><span class="view-all" onclick="showAll()">–í—Å–µ ‚Üí</span></div><div id="tl" class="top-list"><div class="top-item">–ó–∞–≥—Ä—É–∑–∫–∞...</div></div></div>
            <div class="top-players" style="margin-top:20px;"><div class="top-title"><span>üë• –¢–æ–ø –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º</span><span class="view-all" onclick="showAllRef()">–í—Å–µ ‚Üí</span></div><div id="rt" class="top-list"><div class="top-item">–ó–∞–≥—Ä—É–∑–∫–∞...</div></div></div>
        </div>
    </div>
    
    <script defer src="https://cdn.cryptocloud.plus/widget/v1/widget.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script>(function(){
        'use strict';
        const k={api:'QUl6YVN5QV9nTmtMTXN4VG5lVHd5ZzViRHhLQk45b3NSSVVyUGFF',auth:'dGhlLWNvbG9ueS10YXAuZmlyZWJhc2VhcHAuY29t',db:'aHR0cHM6Ly90aGUtY29sb255LXRhcC1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20=',project:'dGhlLWNvbG9ueS10YXA=',storage:'dGhlLWNvbG9ueS10YXAuZmlyZWJhc3VzdG9yYWdlLmFwcA==',sender:'NDMzNDM4NzMzNjE2',app:'MTo0MzM0Mzg3MzM2MTY6d2ViOjc2MDk1YTM2MTYxYjMyNTkwZDQ0ZjU='};
        const d=str=>{try{return atob(str)}catch{return''}};
        const C={TARGET:8e9,TARGETS:{'8b':8e9,'1m':1e6},STORAGE:{N:'wc_n',S:'wc_s',I:'wc_i',NS:'wc_ns',CC:'wc_cc',AM:'wc_am'},LIMITS:{M1:20,M2:300,M3:1e3,INT:5e3,BAN:3},KEY:'Lm9rMjAyNQ==',RESET_FLAG:'reset_trigger',IMAGE_URL:'https://i.imgur.com/W6H3wKX.jpg',CRYPTO_SHOP_ID:'At3cptqTbYR9y1Hs',
        ACHIEVEMENTS:{click100:{name:'–ù–æ–≤–∏—á–æ–∫',desc:'100 –∫–ª–∏–∫–æ–≤',icon:'üå±',reward:10},click1000:{name:'–û–ø—ã—Ç–Ω—ã–π',desc:'1000 –∫–ª–∏–∫–æ–≤',icon:'üåø',reward:50},click10000:{name:'–ú–∞—Å—Ç–µ—Ä',desc:'10000 –∫–ª–∏–∫–æ–≤',icon:'üå≥',reward:200},click100000:{name:'–õ–µ–≥–µ–Ω–¥–∞',desc:'100000 –∫–ª–∏–∫–æ–≤',icon:'üèÜ',reward:1e3},firstPurchase:{name:'–ú–µ—Ü–µ–Ω–∞—Ç',desc:'–ü–µ—Ä–≤–∞—è –ø–æ–∫—É–ø–∫–∞',icon:'üíé',reward:20},spend500:{name:'–ò–Ω–≤–µ—Å—Ç–æ—Ä',desc:'500‚ÇΩ',icon:'üí∞',reward:100},spend5000:{name:'–ú–∞–≥–Ω–∞—Ç',desc:'5000‚ÇΩ',icon:'üëë',reward:500},streak7:{name:'–ó–∞–≤—Å–µ–≥–¥–∞—Ç–∞–π',desc:'7 –¥–Ω–µ–π',icon:'üìÖ',reward:50},streak30:{name:'–ü—Ä–µ–¥–∞–Ω–Ω—ã–π',desc:'30 –¥–Ω–µ–π',icon:'‚≠ê',reward:300},referral1:{name:'–î—Ä—É–≥',desc:'1 —Ä–µ—Ñ–µ—Ä–∞–ª',icon:'ü§ù',reward:50},referral5:{name:'–ü–æ–ø—É–ª—è—Ä–Ω—ã–π',desc:'5 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤',icon:'üë•',reward:200},referral10:{name:'–õ–∏–¥–µ—Ä',desc:'10 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤',icon:'üåü',reward:500}},
        QUESTS:{clicks:{name:'–ö–ª–∏–∫–µ—Ä',desc:'%s –∫–ª–∏–∫–æ–≤',icon:'üëÜ'},streak:{name:'–ó–∞—Ö–æ–¥',desc:'%s –¥–Ω–µ–π',icon:'üìÖ'},purchase:{name:'–ü–æ–∫—É–ø–∞—Ç–µ–ª—å',desc:'%s‚ÇΩ',icon:'üí∞'}}};
        firebase.initializeApp({apiKey:d(k.api),authDomain:d(k.auth),databaseURL:d(k.db),projectId:d(k.project),storageBucket:d(k.storage),messagingSenderId:d(k.sender),appId:d(k.app)});
        const db=firebase.database();
        function g(id){return document.getElementById(id)}
        const E={e:g('e'),ef:g('ef'),ei:g('ei'),pf:g('pf'),c:g('c'),cp:g('cp'),r:g('r'),oc:g('oc'),us:g('us'),ul:g('ul'),lb:g('lb'),lc:g('lcn'),tl:g('tl'),nig:g('nig'),g:g('g'),dn:g('dn'),un:g('un'),snb:g('snb'),cb:g('cb'),ca:g('ca'),um:g('um'),rm:g('rm'),au:g('au'),ps:g('ps'),ab:g('ab'),ap:g('ap'),bd:g('bd'),cpb:g('cp'),pl:g('pl'),rtl:g('rtl'),an:g('an'),ags:g('ags'),atp:g('atp'),ao:g('ao'),atr:g('atr'),td:g('td'),tp:g('tp'),ss:g('ss'),sv:g('sv'),spb:document.querySelectorAll('.size-preset-btn'),ts:g('ts'),pcnt:g('pcnt'),pt:g('pt'),pfm:g('pfm'),pm:g('pm'),cpf:g('cpf'),pn:g('pn'),plv:g('plv'),pcv:g('pc'),ppv:g('pp'),pspv:g('psp'),pstv:g('pst'),prfv:g('prf'),al:g('al'),prs:g('prs'),prl:g('prl'),prs1:g('prs1'),prs2:g('prs2'),prs3:g('prs3'),rl:g('rl'),rc:g('rc'),rb:g('rb'),rbc:g('rbc'),rlst:g('rlst'),rt:g('rt'),ql:g('ql'),qrt:g('qrt')};
        const S={u:'',gs:0,ms:0,pid:null,ns:false,or:null,pr:null,ct:[],lsc:0,lch:Date.now(),cc:0,b:false,adm:false,ps:{},onl:0,cl:false,t:C.TARGET,pc:false,is:100,cprices:{10:10,50:50,100:100,1e3:1e3},st:0,tr:0,pu:0,mspt:0,strk:0,lv:1,ach:{},refs:[],rd:{},rb:0,rct:0,anot:{}};
        const st={g:k=>{try{return localStorage.getItem(C.STORAGE[k])}catch{return null}},s:(k,v)=>{try{localStorage.setItem(C.STORAGE[k],v)}catch{}},r:k=>{try{localStorage.removeItem(C.STORAGE[k])}catch{}}};
        window.switchTab=t=>{document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));document.querySelector(`[onclick="switchTab('${t}')"]`).classList.add('active');E[`${t}-tab`].classList.add('active')};
        function lvl(c){return Math.floor(c/1e3)+1}
        function updUI(){
            if(S.b&&!S.adm){E.cb.disabled=true;E.e.style.pointerEvents='none'}
            else if(S.ns){E.cb.disabled=false;E.e.style.pointerEvents='auto'}
            if(S.ns&&S.u){E.nig.classList.add('hidden');E.g.classList.remove('hidden');E.dn.textContent=S.u;E.lb.textContent=`–£—Ä. ${lvl(S.ms)}`}
            else{E.nig.classList.remove('hidden');E.g.classList.add('hidden')}
            const p=Math.min(S.gs/S.t*100,100);E.ef.style.height=p+'%';E.ei.style.clipPath=`inset(${100-p}% 0 0 0)`;E.pf.style.width=p+'%';
            E.c.textContent=S.gs.toLocaleString();E.cp.textContent=S.gs.toLocaleString();E.r.textContent=Math.max(S.t-S.gs,0).toLocaleString();E.us.textContent=S.ms.toLocaleString();
            const l=lvl(S.ms);E.ul.textContent=l;
            if(S.pid){E.rc.textContent=S.refs.length;E.rb.textContent=S.rb;E.rbc.textContent=S.rct.toLocaleString();updRefLink();updRefList()}
            if(S.adm){E.ags.textContent=S.gs.toLocaleString();E.atp.textContent=Object.keys(S.ps).length;E.ao.textContent=S.onl;E.ts.textContent=S.st}
            updQ();updRefTop()
        }
        function updRefTop(){
            const p=Object.entries(S.ps).map(([i,d])=>({id:i,name:d.n||'–ê–Ω–æ–Ω–∏–º',refs:d.refs?d.refs.length:0,rb:d.rb||0,rc:d.rc||0})).filter(p=>p.refs>0).sort((a,b)=>b.refs-a.refs).slice(0,10);
            if(S.adm){const tr=Object.values(S.ps).reduce((s,p)=>s+(p.refs?p.refs.length:0),0);E.atr.textContent=tr}
            if(S.adm&&E.rtl)E.rtl.innerHTML=p.length?p.map(p=>`<div class="player-item" onclick="openProf('${p.id}','${p.name}')"><div class="player-info"><div class="player-name">${p.name}</div><div class="player-score">üë• ${p.refs} —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ | üí∞ ${p.rb} –±–æ–Ω—É—Å–æ–≤</div></div></div>`).join(''):'<div style="text-align:center;color:#aaa;">–ù–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π</div>';
            E.rt.innerHTML=p.length?p.map((p,i)=>{const rc=i===0?'top-rank-1':i===1?'top-rank-2':i===2?'top-rank-3':'';return`<div class="top-item" onclick="openProf('${p.id}','${p.name}')"><div class="top-rank ${rc}">${i+1}</div><span class="top-name">${p.name}</span><span class="top-score">üë• ${p.refs}</span></div>`}).join(''):'<div class="top-item">–ù–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π</div>'
        }
        function updRefList(){
            if(!S.pid||!S.refs||!S.refs.length){E.rlst&&(E.rlst.innerHTML='<div class="no-referrals">–£ —Ç–µ–±—è –ø–æ–∫–∞ –Ω–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö –¥—Ä—É–∑–µ–π</div>');return}
            let h='',tc=0;S.refs.forEach(refId=>{const r=S.ps[refId];if(r){const c=r.sc||0;tc+=c;const b=Math.floor(c/1e3)*10;h+=`<div class="referral-row" onclick="openProf('${refId}','${r.n}')"><span class="referral-name">${r.n||'–ê–Ω–æ–Ω–∏–º'}</span><span class="referral-clicks">${c.toLocaleString()} –∫–ª–∏–∫–æ–≤</span><span class="referral-bonus">+${b}</span></div>`}});
            S.rct=tc;E.rlst&&(E.rlst.innerHTML=h||'<div class="no-referrals">–£ —Ç–µ–±—è –ø–æ–∫–∞ –Ω–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö –¥—Ä—É–∑–µ–π</div>')
        }
        function checkRefAct(refId,refC){
            if(!S.pid||!S.refs.includes(refId))return false;
            S.rd[refId]||(S.rd[refId]={lc:0,tb:0});
            const lc=S.rd[refId].lc,cg=refC-lc;
            if(cg>=1e3){const b=Math.floor(cg/1e3)*10;S.rb+=b;S.ms+=b;S.gs+=b;S.rd[refId].lc=refC;S.rd[refId].tb+=b;S.pr&&S.pr.update({rb:S.rb,sc:S.ms,rc:S.rct});E.au.textContent=`üéÅ –ó–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª–∞ +${b} –∫–ª–∏–∫–æ–≤!`;E.au.style.display='block';setTimeout(()=>E.au.style.display='none',5e3);return true}
            return false
        }
        window.showAllRef=()=>{
            const p=Object.entries(S.ps).map(([i,d])=>({id:i,name:d.n||'–ê–Ω–æ–Ω–∏–º',refs:d.refs?d.refs.length:0,lv:lvl(d.sc||0)})).filter(p=>p.refs>0).sort((a,b)=>b.refs-a.refs);
            let h='<div class="top-title">–í—Å–µ –ø—Ä–∏–≥–ª–∞—à–∞—é—â–∏–µ</div>';p.forEach((p,i)=>{h+=`<div class="top-item" onclick="openProf('${p.id}','${p.name}')"><div class="top-rank">${i+1}</div><span class="top-name">${p.name} [–£—Ä.${p.lv}]</span><span class="top-score">üë• ${p.refs}</span></div>`});E.rt.innerHTML=h||'<div class="top-item">–ù–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π</div>'
        };
        window.showAll=()=>{
            const p=Object.entries(S.ps).map(([i,d])=>({id:i,...d})).filter(p=>p.sc>0).sort((a,b)=>b.sc-a.sc);
            let h='<div class="top-title">–í—Å–µ –∏–≥—Ä–æ–∫–∏</div>';p.forEach((p,i)=>{const l=lvl(p.sc||0);h+=`<div class="top-item" onclick="openProf('${p.id}','${p.n}')"><div class="top-rank">${i+1}</div><span class="top-name">${p.n||'–ê–Ω–æ–Ω–∏–º'} [–£—Ä.${l}]</span><span class="top-score">${(p.sc||0).toLocaleString()}</span>${p.strk>=7?'<span class="top-badge">üî•</span>':''}</div>`});E.tl.innerHTML=h
        };
        function checkAch(){
            if(!S.pid||!S.pr)return;
            const nA=[],nw=Date.now();
            S.ms>=100&&!S.ach.click100&&!S.anot.click100&&(nA.push('click100'),S.anot.click100=true);
            S.ms>=1e3&&!S.ach.click1000&&!S.anot.click1000&&(nA.push('click1000'),S.anot.click1000=true);
            S.ms>=1e4&&!S.ach.click10000&&!S.anot.click10000&&(nA.push('click10000'),S.anot.click10000=true);
            S.ms>=1e5&&!S.ach.click100000&&!S.anot.click100000&&(nA.push('click100000'),S.anot.click100000=true);
            S.pu>=1&&!S.ach.firstPurchase&&!S.anot.firstPurchase&&(nA.push('firstPurchase'),S.anot.firstPurchase=true);
            S.mspt>=500&&!S.ach.spend500&&!S.anot.spend500&&(nA.push('spend500'),S.anot.spend500=true);
            S.mspt>=5e3&&!S.ach.spend5000&&!S.anot.spend5000&&(nA.push('spend5000'),S.anot.spend5000=true);
            S.strk>=7&&!S.ach.streak7&&!S.anot.streak7&&(nA.push('streak7'),S.anot.streak7=true);
            S.strk>=30&&!S.ach.streak30&&!S.anot.streak30&&(nA.push('streak30'),S.anot.streak30=true);
            S.refs.length>=1&&!S.ach.referral1&&!S.anot.referral1&&(nA.push('referral1'),S.anot.referral1=true);
            S.refs.length>=5&&!S.ach.referral5&&!S.anot.referral5&&(nA.push('referral5'),S.anot.referral5=true);
            S.refs.length>=10&&!S.ach.referral10&&!S.anot.referral10&&(nA.push('referral10'),S.anot.referral10=true);
            if(nA.length){const up={};nA.forEach(a=>{up[`achievements.${a}`]={unlocked:true,date:nw};if(C.ACHIEVEMENTS[a].reward>0){S.ms+=C.ACHIEVEMENTS[a].reward;S.gs+=C.ACHIEVEMENTS[a].reward;up.sc=S.ms;E.au.textContent=`üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ "${C.ACHIEVEMENTS[a].name}"! +${C.ACHIEVEMENTS[a].reward} –∫–ª–∏–∫–æ–≤`;E.au.style.display='block';setTimeout(()=>E.au.style.display='none',5e3)}});S.pr.update(up);nA.forEach(a=>S.ach[a]={unlocked:true,date:nw})}
        }
        function checkStrk(){
            if(!S.pr)return;
            const t=new Date().setHours(0,0,0,0),ls=S.pr.lastSeen||0,lsd=new Date(ls).setHours(0,0,0,0);
            let ns=S.strk;
            if(lsd===t)return;
            else if(lsd===t-864e5)ns++;
            else ns=1;
            ns!==S.strk&&(S.strk=ns,S.pr.update({streak:ns,lastSeen:Date.now()}))
        }
        function genQ(){
            const t=new Date().setHours(0,0,0,0),sq=localStorage.getItem('dailyQuests'),sd=localStorage.getItem('questsDate');
            if(sq&&sd==t)return JSON.parse(sq);
            const q=[{id:'c1',type:'clicks',target:100,reward:20,progress:0,completed:false,claimed:false},{id:'c2',type:'clicks',target:500,reward:100,progress:0,completed:false,claimed:false},{id:'s',type:'streak',target:3,reward:30,progress:0,completed:false,claimed:false}];
            localStorage.setItem('dailyQuests',JSON.stringify(q));localStorage.setItem('questsDate',t);return q
        }
        function updQ(){
            const q=genQ();
            q.forEach(q=>{switch(q.type){case'clicks':q.progress=S.ms;break;case'streak':q.progress=S.strk;break;case'purchase':q.progress=S.mspt;break}q.progress>=q.target&&!q.completed&&(q.completed=true)});
            localStorage.setItem('dailyQuests',JSON.stringify(q));
            let h='';q.forEach(q=>{const p=Math.min(q.progress/q.target*100,100);h+=`<div class="quest-item ${q.completed?'completed':''}"><div class="quest-icon">${C.QUESTS[q.type].icon}</div><div class="quest-name">${C.QUESTS[q.type].name}</div><div class="quest-desc">${C.QUESTS[q.type].desc.replace('%s',q.target)}</div><div class="quest-progress"><div class="quest-progress-fill" style="width:${p}%"></div></div><div class="quest-reward">+${q.reward}</div>${q.completed&&!q.claimed?`<button class="quest-button" onclick="claimQ('${q.id}')">–ó–∞–±—Ä–∞—Ç—å</button>`:q.claimed?'<button class="quest-button" disabled>–ü–æ–ª—É—á–µ–Ω–æ</button>':`<button class="quest-button" disabled>${q.progress}/${q.target}</button>`}</div>`});
            E.ql.innerHTML=h;const n=Date.now(),tm=new Date().setHours(24,0,0,0),hl=Math.floor((tm-n)/36e5),ml=Math.floor((tm-n)%36e5/6e4);E.qrt.textContent=`–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑: ${hl}—á ${ml}–º`
        }
        window.claimQ=function(qid){
            const q=JSON.parse(localStorage.getItem('dailyQuests')),qs=q.find(q=>q.id===qid);
            if(qs&&qs.completed&&!qs.claimed){qs.claimed=true;localStorage.setItem('dailyQuests',JSON.stringify(q));S.ms+=qs.reward;S.gs+=qs.reward;S.pr&&S.pr.update({sc:S.ms});E.au.textContent=`‚úÖ –ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! +${qs.reward} –∫–ª–∏–∫–æ–≤`;E.au.style.display='block';setTimeout(()=>E.au.style.display='none',5e3);updQ();updUI()}
        };
        function updRefLink(){
            if(!S.pid)return;
            const l=`${window.location.origin+window.location.pathname}?ref=${S.pid}`;E.rl&&(E.rl.value=l);E.prl&&(E.prl.value=l)
        }
        window.copyRefLink=()=>{const l=E.rl||E.prl;l&&(l.select(),document.execCommand('copy'),E.au.textContent='‚úÖ –°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!',E.au.style.display='block',setTimeout(()=>E.au.style.display='none',2e3))};
        function checkRef(){const u=new URLSearchParams(window.location.search),r=u.get('ref');r&&r!==S.pid&&localStorage.setItem('referrer',r)}
        function applyRef(){
            const r=localStorage.getItem('referrer');if(!r||!S.pid||r===S.pid)return;
            const ar=JSON.parse(localStorage.getItem('appliedRefs')||'[]');if(ar.includes(r))return;
            db.ref('players/'+r+'/refs').transaction(l=>{l||(l=[]);l.includes(S.pid)||l.push(S.pid);return l}).then(()=>db.ref('players/'+r).transaction(p=>{p||(p={sc:0});p.sc=(p.sc||0)+50;p.rb=(p.rb||0)+50;p.rc=p.rc||0;return p})).then(()=>{ar.push(r);localStorage.setItem('appliedRefs',JSON.stringify(ar));S.pid===r&&(E.au.textContent='‚úÖ –ó–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ –¥—Ä—É–≥–∞ +50 –∫–ª–∏–∫–æ–≤!',E.au.style.display='block',setTimeout(()=>E.au.style.display='none',5e3))});
            localStorage.removeItem('referrer')
        }
        window.openProf=function(pid,nm){
            const d=S.ps[pid];if(!d)return;
            const l=lvl(d.sc||0),refs=d.refs?d.refs.length:0,rb=d.rb||0,rc=d.rc||0;
            E.pn.textContent=d.n||nm;E.plv.textContent=l;E.pcv.textContent=(d.sc||0).toLocaleString();E.ppv.textContent=d.pu||0;E.pspv.textContent=(d.sp||0)+'‚ÇΩ';E.pstv.textContent=d.strk||1;E.prfv.textContent=refs;
            let h='';Object.entries(C.ACHIEVEMENTS).forEach(([k,a])=>{const u=d.ach?.[k]?.unlocked;h+=`<div class="achievement-card ${u?'unlocked':'locked'}"><div class="achievement-icon">${a.icon}</div><div class="achievement-info"><div class="achievement-name">${a.name}</div><div class="achievement-desc">${a.desc}</div>${u?'<div class="achievement-reward">‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>':''}</div></div>`});
            E.al.innerHTML=h;
            if(pid===S.pid){updRefLink();E.prs.style.display='block';E.prs1.textContent=refs;E.prs2.textContent=rb;E.prs3.textContent=rc.toLocaleString()}
            else E.prs.style.display='none';
            E.pm.classList.add('show');E.bd.classList.add('show');S.vp=pid
        };
        function setupL(){
            if(!S.pid)return;
            S.pl=db.ref('players/'+S.pid).on('value',s=>{
                const d=s.val();if(!d)return;
                if(d.b!==undefined&&d.b!==S.b){S.b=d.b;!S.b&&(E.um.style.display='block',setTimeout(()=>E.um.style.display='none',3e3))}
                if(d.sc!==undefined&&d.sc!==S.ms&&!S.cl){S.ms=d.sc;st.s('S',d.sc)}
                S.pu=d.pu||0;S.mspt=d.sp||0;S.strk=d.strk||1;S.ach=d.ach||{};
                const old=S.refs;S.refs=d.refs||[];
                if(S.refs.length>0)S.refs.forEach(refId=>{const r=S.ps[refId];r&&checkRefAct(refId,r.sc||0)});
                S.rb=d.rb||0;S.rct=d.rc||0;updUI()
            })
        }
        window.openPay=(c,p)=>{if(!S.ns){alert('‚ö†Ô∏è –°–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏—Ç–µ –∏–º—è!');return}
            sessionStorage.setItem('pendingPurchase',JSON.stringify({clicks:c,userId:S.pid,username:S.u,price:p,timestamp:Date.now()}));
            E.pcnt.style.display='block';E.pt.textContent=`–û–ø–ª–∞—Ç–∞ ${c} –∫–ª–∏–∫–æ–≤ (${p}‚ÇΩ)`;
            E.pfm.innerHTML='';
            if(window.CryptoCloudWidget)window.CryptoCloudWidget.CreateInvoiceForm({shop_id:C.CRYPTO_SHOP_ID,amount:p,buttonText:`–û–ø–ª–∞—Ç–∏—Ç—å ${p}‚ÇΩ`,currency:"RUB",locale:"ru",template:"dark",emailRequired:true,orderId:`click_${c}_${S.pid}_${Date.now()}`}).mount('.cc-payment-form')
        };
        const a={open(){if(!S.adm){const s=prompt('üîê –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞:');s===atob(C.KEY)&&this.enable();return}
            E.ap.classList.add('show');E.bd.classList.add('show');this.updateList();E.ss.value=S.is;E.sv.textContent=S.is+'%'},
        close(){E.ap.classList.remove('show');E.bd.classList.remove('show')},
        enable(){S.adm=true;st.s('AM','true');this.open()},
        updateList(){const p=Object.entries(S.ps).map(([i,d])=>({id:i,...d})).sort((a,b)=>(b.sc||0)-(a.sc||0));
            E.pl.innerHTML=p.length?p.map(p=>{const l=lvl(p.sc||0),refs=p.refs?p.refs.length:0;return`<div class="player-item ${p.b?'banned':''}" onclick="openProf('${p.id}','${p.n}')"><div class="player-info"><div class="player-name">${p.n||'–ê–Ω–æ–Ω–∏–º'} [–£—Ä.${l}]</div><div class="player-score">üëÜ ${(p.sc||0).toLocaleString()} | üë• ${refs}</div></div><div class="player-actions">${p.b?`<button class="player-action" style="background:#4CAF50" onclick="event.stopPropagation();a.unbanPlayer('${p.id}')">‚úÖ</button>`:`<button class="player-action" style="background:#ff4444" onclick="event.stopPropagation();a.banPlayer('${p.id}')">üö´</button>`}<button class="player-action" style="background:#ffd700" onclick="event.stopPropagation();a.addPlayerClicks('${p.id}',10)">+10</button></div></div>`}).join(''):'<div style="text-align:center;color:#aaa;">–ù–µ—Ç –∏–≥—Ä–æ–∫–æ–≤</div>'},
        resetGame(){if(!S.adm||!confirm('‚ö†Ô∏è –ü–û–õ–ù–´–ô –°–ë–†–û–°? –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã!'))return;
            db.ref('admin/reset').set(true);
            db.ref('globalCounter').set(0);
            db.ref('players').remove();
            db.ref('onlineUsers').remove();
            db.ref('config/imageSize').set(100);
            localStorage.clear();
            S.is=100;
            E.ei.style.backgroundSize='100%';
            this.close()},
        addGlobalClicks(a){S.adm&&db.ref('globalCounter').transaction(v=>(v||0)+a)},
        setTarget(t){S.adm&&(S.t=C.TARGETS[t]||C.TARGET,E.td.textContent=t==='8b'?'8 –º–ª—Ä–¥':'1 –º–ª–Ω',E.tp.textContent=S.t.toLocaleString(),updUI())},
        banPlayer(i){S.adm&&db.ref('players/'+i).update({b:true,br:'–ê–¥–º–∏–Ω',bt:Date.now()})},
        unbanPlayer(i){S.adm&&db.ref('players/'+i).update({b:false,br:null,bt:null,cc:0})},
        deletePlayer(i){S.adm&&confirm('–£–¥–∞–ª–∏—Ç—å –∏–≥—Ä–æ–∫–∞?')&&db.ref('players/'+i).remove()},
        addPlayerClicks(i,a){S.adm&&(db.ref('players/'+i).transaction(p=>{p||(p={sc:0});p.sc=(p.sc||0)+a;return p}),db.ref('globalCounter').transaction(v=>(v||0)+a))},
        clearBanned(){S.adm&&Object.keys(S.ps).forEach(i=>{S.ps[i].b&&db.ref('players/'+i).update({b:false,cc:0})})},
        banAll(){S.adm&&confirm('–ó–∞–±–∞–Ω–∏—Ç—å –≤—Å–µ—Ö?')&&Object.keys(S.ps).forEach(i=>db.ref('players/'+i).update({b:true,br:'–ú–∞—Å—Å–æ–≤—ã–π –±–∞–Ω'}))},
        clearDatabase(){S.adm&&confirm('‚ö†Ô∏è –ü–û–õ–ù–ê–Ø –û–ß–ò–°–¢–ö–ê?')&&(db.ref('/').remove(),localStorage.clear(),setTimeout(()=>location.reload(),1e3))},
        setImageSize(s){S.adm&&(db.ref('config/imageSize').set(s),S.is=s,E.ei.style.backgroundSize=s+'%',E.ss.value=s,E.sv.textContent=s+'%',E.spb.forEach(b=>b.classList.remove('active')),s===75&&E.spb[0]?.classList.add('active'),s===100&&E.spb[1]?.classList.add('active'),s===125&&E.spb[2]?.classList.add('active'),s===150&&E.spb[3]?.classList.add('active'))},
        setPrices(t){S.adm&&alert('üí∞ –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ —Ü–µ–Ω—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ: 1 –∫–ª–∏–∫ = 1 —Ä—É–±–ª—å')}};
        window.a=a;
        db.ref('globalCounter').on('value',s=>{if(!S.b||S.adm){const n=s.val()||0;Math.abs(n-S.gs)<100||!S.cl?S.gs=n:S.gs=n;updUI()}});
        db.ref('lastClick').on('value',s=>{if(!S.b||S.adm){const d=s.val();E.lc.textContent=d?.n||'–Ω–∏–∫—Ç–æ';d?.pid&&(E.lc.onclick=()=>openProf(d.pid,d.n))}});
        db.ref('onlineUsers').on('value',s=>{if(!S.b||S.adm){S.onl=s.val()?Object.keys(s.val()).length:0;E.oc.textContent=S.onl;S.adm&&(E.ao.textContent=S.onl);if(S.adm){const bc=Object.values(S.ps).filter(p=>p.b).length;E.an.textContent=bc}}});
        db.ref('players').on('value',s=>{const p=s.val()||{};S.ps=p;
            if(!S.b||S.adm){const l=Object.entries(p).map(([i,d])=>({id:i,...d})).filter(p=>p.sc>0&&!p.b).sort((a,b)=>b.sc-a.sc).slice(0,10);
                E.tl.innerHTML=l.length?l.map((p,i)=>{const rc=i===0?'top-rank-1':i===1?'top-rank-2':i===2?'top-rank-3':'';const cur=p.id===S.pid;const lvl=Math.floor((p.sc||0)/1e3)+1;return`<div class="top-item ${cur?'current':''}" onclick="openProf('${p.id}','${p.n}')"><div class="top-rank ${rc}">${i+1}</div><span class="top-name">${p.n||'–ê–Ω–æ–Ω–∏–º'} [–£—Ä.${lvl}]</span><span class="top-score">${(p.sc||0).toLocaleString()}</span>${p.strk>=7?'<span class="top-badge">üî•</span>':''}</div>`}).join(''):'<div class="top-item">–ù–µ—Ç –∫–ª–∏–∫–æ–≤</div>'}
            if(S.adm&&E.ap.classList.contains('show'))a.updateList();
            if(S.adm){const bc=Object.values(p).filter(p=>p.b).length;E.an.textContent=bc}
            updRefTop()});
        async function clickH(){
            if(S.cl||!ac.check())return;
            S.cl=true;S.pc=true;S.ct.push(Date.now());ac.clean();
            const og=S.gs,om=S.ms;
            try{const r=await db.ref('globalCounter').transaction(v=>(v||0)+1);
                if(r.committed){if(S.pr&&(!S.b||S.adm)){const pr=await S.pr.transaction(p=>{p||(p={sc:0});p.sc=(p.sc||0)+1;p.n=S.u;p.ls=Date.now();return p});pr.committed&&(S.ms=pr.snapshot.val().sc,st.s('S',S.ms),checkAch())}
                S.gs=r.snapshot.val();await db.ref('lastClick').set({n:S.u,t:Date.now(),pid:S.pid});updUI();S.gs>=S.t&&setTimeout(()=>alert('üéâ –ü–û–ë–ï–î–ê! –ó–ï–ú–õ–Ø –ó–ê–°–ï–õ–ï–ù–ê! üéâ'),100)}else{S.gs=og;S.ms=om}}catch(e){S.gs=og;S.ms=om}
            S.pc=false;setTimeout(()=>S.cl=false,300)
        }
        const ac={check(){if(S.adm)return true;if(S.b)return false;const n=Date.now(),s=S.ct.filter(t=>t>n-1e3).length,m=S.ct.filter(t=>t>n-6e4).length;if(s>C.LIMITS.M1){this.record('–ß–∞—Å—Ç–æ');return false}if(m>C.LIMITS.M2){this.record('–ú–Ω–æ–≥–æ');return false}if(n-S.lch>C.LIMITS.INT){if(S.ms-S.lsc>C.LIMITS.M3){this.record('–†–æ—Å—Ç');return false}S.lsc=S.ms;S.lch=n}return true},
        record(r){if(S.adm)return;S.cc++;st.s('CC',S.cc);E.ca.style.display='block';setTimeout(()=>E.ca.style.display='none',3e3);S.cc>=C.LIMITS.BAN&&(S.b=true,E.cb.disabled=true,E.e.style.pointerEvents='none',S.pr&&S.pr.update({b:true,cc:S.cc,br:r,bt:Date.now()}),S.or&&S.or.remove())},
        clean(){const n=Date.now();S.ct=S.ct.filter(t=>t>n-12e4)}};
        function init(){
            S.adm=st.g('AM')==='true';
            S.ns=st.g('NS')==='true';S.u=st.g('N')||'';S.pid=st.g('I')||null;S.ms=parseInt(st.g('S')||'0');S.cc=parseInt(st.g('CC')||'0');
            checkRef();S.u&&(E.un.value=S.u);
            db.ref('config/imageSize').once('value').then(s=>{const sz=s.val();sz&&typeof sz==='number'&&(S.is=sz,E.ei.style.backgroundSize=sz+'%')});
            db.ref('globalCounter').once('value').then(s=>{S.gs=s.val()||0;
                if(S.ns&&S.pid)db.ref('players/'+S.pid).once('value').then(s=>{if(s.exists()){const d=s.val();S.pr=db.ref('players/'+S.pid);S.b=d.b===true;S.pu=d.pu||0;S.mspt=d.sp||0;S.strk=d.strk||1;S.ach=d.ach||{};S.refs=d.refs||[];S.rb=d.rb||0;S.rct=d.rc||0;
                    d.sc!==S.ms&&!S.cl&&(d.sc<S.ms?S.pr.update({sc:S.ms}):(S.ms=d.sc,st.s('S',d.sc)));setupL();checkStrk();applyRef()}else(!S.b||S.adm)&&createP();updUI()})
                else if(S.ns&&(!S.b||S.adm))createP();else updUI()});
            (!S.b||S.adm)&&(S.or=db.ref('onlineUsers').push(),S.or.set({n:S.u||'–ê–Ω–æ–Ω–∏–º',on:true,ls:Date.now(),pid:S.pid}),window.addEventListener('beforeunload',()=>{S.or&&S.or.remove();S.pr&&(!S.b||S.adm)&&(S.pr.update({ls:Date.now(),on:false,cc:S.cc}),st.s('S',S.ms))}));
            E.snb.addEventListener('click',()=>{const n=E.un.value.trim();if(!n)return;S.u=n;S.ns=true;st.s('N',n);st.s('NS','true');createP();applyRef();updUI()});
            E.un.addEventListener('keypress',e=>e.key==='Enter'&&E.snb.click());
            E.cb.addEventListener('click',clickH);E.e.addEventListener('click',clickH);E.g.addEventListener('click',()=>openProf(S.pid,S.u));
            E.ab.addEventListener('click',()=>a.open());E.cpb.addEventListener('click',()=>a.close());E.cpf.addEventListener('click',()=>{E.pm.classList.remove('show');E.bd.classList.remove('show')});
            E.bd.addEventListener('click',()=>{E.ap.classList.remove('show');E.pm.classList.remove('show');E.bd.classList.remove('show')});
            E.ss.addEventListener('input',e=>{S.adm&&a.setImageSize(parseInt(e.target.value))});
            setInterval(()=>{if(S.b&&!S.adm)return;ac.check();ac.clean();S.or&&S.or.update({ls:Date.now(),n:S.u||'–ê–Ω–æ–Ω–∏–º',cc:S.cc});S.pr&&S.ns&&(!S.b||S.adm)&&(S.pr.update({ls:Date.now(),n:S.u,cc:S.cc}),st.s('S',S.ms));updQ()},6e4);
            E.tp.textContent=S.t.toLocaleString()
        }
        function createP(){if(S.b&&!S.adm)return;
            const nr=db.ref('players').push();nr.set({n:S.u,sc:S.ms,j:Date.now(),ls:Date.now(),cc:S.cc,pu:0,sp:0,strk:1,ach:{},refs:[],rb:0,rc:0,b:false}).then(()=>{S.pr=nr;S.pid=nr.key;st.s('I',S.pid);S.b=false;setupL()})
        }
        init();
        })();
    </script>
</body>
</html>
